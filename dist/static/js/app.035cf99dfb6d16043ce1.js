webpackJsonp([12],{"2zfc":function(t,e){},"60YY":function(t,e){},"BaD/":function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("7+uW"),o={name:"App",computed:{key:function(){return void 0!==this.$route.name?this.$route.name+new Date:this.$route+new Date}}},i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("keep-alive",[e("router-view",{key:this.key})],1)],1)},staticRenderFns:[]};var c=n("VU/8")(o,i,!1,function(t){n("pVdX")},null,null).exports,r=n("Au9i"),s=n.n(r),l=(n("60YY"),n("BaD/"),n("/ocq")),u=n("Dd8w"),d=n.n(u),f=n("NYxO"),p=n("lbHh"),h=n.n(p),m="userInfo";function v(){return h.a.get(m)}var g={name:"ec-header",data:function(){return{index:1}},computed:d()({},Object(f.b)(["userInfo"]),{userInfo:function(){return v()?JSON.parse(v()):""}}),created:function(){this.getIndex()},methods:{handleMore:function(){this.$emit("click-menu")},handleItem:function(t,e){this.userInfo||"home"===e?(this.index=t,this.$router.push(e)):this.$router.push("login"),this.$emit("handle-link",{index:t,url:e})},handleBack:function(){this.$router.go(-1)},getIndex:function(){"vip_broadcast"===this.$route.name?this.index=2:"audio_broadcast"===this.$route.name?this.index=3:this.index=1}}},k={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"ec-header"},[t.$route.meta.isBack?n("div",{staticClass:"back-wapper"},[n("span",{staticClass:"ec-icon back",on:{click:t.handleBack}}),t._v(" "),n("p",{staticClass:"title"},[t._v(t._s(t.$route.meta.title))])]):n("div",{staticClass:"default-wapper"},[n("span",{staticClass:"ec-icon more",on:{click:t.handleMore}}),t._v(" "),n("div",{class:["tab-item",1===t.index?"action":""],on:{click:function(e){t.handleItem(1,"home")}}},[t._v("日常播报")]),t._v(" "),n("div",{class:["tab-item",2===t.index?"action":""],on:{click:function(e){t.handleItem(2,"vip_broadcast")}}},[t._v("会员播报")]),t._v(" "),n("div",{class:["tab-item",3===t.index?"action":""],on:{click:function(e){t.handleItem(3,"audio_broadcast")}}},[t._v("音频播报")])])])},staticRenderFns:[]};var b={name:"ec-layout",components:{ecHeader:n("VU/8")(g,k,!1,function(t){n("2zfc")},"data-v-6ce95496",null).exports},data:function(){return{img:n("VDh0")}},computed:d()({},Object(f.b)(["userInfo"]),{userInfo:function(){return v()?JSON.parse(v()):""}}),mounted:function(){},methods:{drawerToggle:function(){this.$refs.drawerLayout.toggle()},handleClick:function(t){},clickLink:function(t){var e=this;this.$refs.drawerLayout.toggle(),setTimeout(function(){e.$router.push(t)},200)},linkLogin:function(){var t=this;this.$refs.drawerLayout.toggle(),setTimeout(function(){t.$router.push("login")},200)},showModal:function(){var t=this;r.MessageBox.confirm("确定执行此操作?").then(function(e){t.$store.commit("clearUserInfo"),t.clickLink("/homexx")}).catch(function(t){})}}},_={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("vue-drawer-layout",{ref:"drawerLayout",attrs:{enable:!1,"content-drawable":!0},on:{"mask-click":t.drawerToggle}},[n("div",{staticClass:"drawer",attrs:{slot:"drawer"},slot:"drawer"},[n("div",{staticClass:"user-info-wapper"},[t.userInfo?n("div",{staticClass:"user-info"},[n("div",{staticClass:"avatar-wrap"},[n("img",{attrs:{src:t.userInfo.avatar}}),t._v(" "),n("div",{staticClass:"user-name",domProps:{textContent:t._s(t.userInfo.name)}})])]):n("div",{staticClass:"login-btn"},[n("span",{staticClass:"img"}),t._v(" "),n("span",{staticClass:"ec-login-btn",on:{click:t.linkLogin}},[t._v("登录")])])]),t._v(" "),n("ul",{staticClass:"menu-item-list"},[n("li",{staticClass:"item-link",on:{click:function(e){t.clickLink("about")}}},[t._v("公司简介")]),t._v(" "),t.userInfo?n("li",{staticClass:"item-link",on:{click:function(e){t.clickLink("analyst_list")}}},[t._v("分析师")]):t._e(),t._v(" "),t.userInfo?n("li",{staticClass:"item-link",on:{click:t.showModal}},[t._v("退出登录")]):t._e()])]),t._v(" "),n("div",{staticClass:"ec-content",attrs:{slot:"content"},slot:"content"},[n("ec-header",{on:{"click-menu":t.drawerToggle,"handle-link":t.handleClick}}),t._v(" "),n("router-view")],1)])},staticRenderFns:[]};var w=n("VU/8")(b,_,!1,function(t){n("k6Wh")},"data-v-011d53c8",null).exports;a.default.use(l.a);var y=[{path:"/",redirect:"/home"},{path:"/login",name:"login",component:function(t){return Promise.all([n.e(0),n.e(2)]).then(function(){var e=[n("Quw4")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/register",name:"register",component:function(t){return n.e(1).then(function(){var e=[n("c2lw")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/scroll",name:"scroll",component:function(t){return n.e(10).then(function(){var e=[n("1A86")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/",name:"",component:w,children:[{path:"home",name:"home",component:function(t){return Promise.all([n.e(0),n.e(3)]).then(function(){var e=[n("26dS")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"about",meta:{isBack:!0,title:"公司简介"},name:"about",component:function(t){return Promise.all([n.e(0),n.e(6)]).then(function(){var e=[n("FBzZ")];t.apply(null,e)}.bind(this)).catch(n.oe)}}]}],I=[{path:"/",name:"",component:w,children:[{path:"audio_broadcast",name:"audio_broadcast",component:function(t){return Promise.all([n.e(0),n.e(9)]).then(function(){var e=[n("IOxH")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"vip_broadcast",name:"vip_broadcast",component:function(t){return Promise.all([n.e(0),n.e(7)]).then(function(){var e=[n("kquA")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"stock_detail/:id",meta:{isBack:!0,title:"个股详情"},name:"stock_detail",component:function(t){return Promise.all([n.e(0),n.e(5)]).then(function(){var e=[n("Enxi")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"analyst_list",meta:{isBack:!0,title:"分析师列表"},name:"analyst_list",component:function(t){return Promise.all([n.e(0),n.e(8)]).then(function(){var e=[n("EGK3")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"analyst/:id",meta:{isBack:!0,title:"分析师简介"},name:"analyst",component:function(t){return Promise.all([n.e(0),n.e(4)]).then(function(){var e=[n("PdW/")];t.apply(null,e)}.bind(this)).catch(n.oe)}}]}],x=new l.a({scrollBehavior:function(){return{y:0}},routes:[].concat(y,I)}),C=["/home","/login","/register","/about","/scroll"];x.beforeEach(function(t,e,n){v()?n():-1!==C.indexOf(t.path)?n():n("/login?redirect="+t.path)});var $=x,L=n("4OJq"),O=n.n(L),B=n("POcy"),P=n.n(B),E=(n("nM5b"),n("zNUS")),H=n.n(E);n("fZjL");var M={admin:{roles:["admin"],tel:"18888888888",code:"2018",token:"admin",introduction:"我是超级管理员",avatar:"https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif",name:"Super Admin"},editor:{roles:["editor"],tel:"13666666666",code:"2018",token:"editor",introduction:"我是编辑",avatar:"https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif",name:"Normal Editor"}},N=[{tel:"18888888888",name:"admin",token:"admin",code:"2018",avatar:"https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif"},{tel:"13666666666",name:"admin",token:"admin",code:"2018",avatar:"https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif"}],S=function(t){var e=JSON.parse(t.body),n=e.tel,a=e.code,o=N.filter(function(t){return t.tel===n&&t.code===a});return console.log(o),1===o.length&&o[0]?{code:"200",status:!0,data:o[0],msg:"登录成功"}:{code:"200",status:!1,data:"",msg:"手机号或验证码错误"}},D=function(t){var e,n,a=(e=t.url,(n=e.split("?")[1])?JSON.parse('{"'+decodeURIComponent(n).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}'):{}).token;return!!M[a]&&M[a]},U=function(){return"success"};H.a.XHR.prototype.proxy_send=H.a.XHR.prototype.send,H.a.XHR.prototype.send=function(){this.custom.xhr&&(this.custom.xhr.withCredentials=this.withCredentials||!1),this.proxy_send.apply(this,arguments)},H.a.mock("/login","post",S),H.a.mock(/\/login\/logout/,"post",U),H.a.mock(/\/user\/info\.*/,"get",D);var A=n("mvHQ"),R=n.n(A),V={state:{userInfo:{},token:""},getters:{userInfo:function(t){var e=t.userInfo;return e||(e=h.a.get("userInfo")||null),e}},mutations:{addUserInfo:function(t,e){var n=e.userInfo;t.userInfo=n,h.a.set("userInfo",R()(n),{expires:7})},clearUserInfo:function(t){t.userInfo="",h.a.remove("userInfo")}}};a.default.use(f.a);var z=new f.a.Store({state:{},modules:{app:V}});a.default.use(s.a),a.default.use(O.a),a.default.use(P.a),a.default.config.productionTip=!1,new a.default({el:"#app",router:$,store:z,components:{App:c},template:"<App/>"})},VDh0:function(t,e,n){t.exports=n.p+"static/img/Oval.8a5f3da.png"},k6Wh:function(t,e){},nM5b:function(t,e){var n,a,o,i,c;n=document,a=window,o=n.documentElement,i="orientationchange"in window?"orientationchange":"resize",c=function(){var t=o.clientWidth;t&&(o.style.fontSize=t/375*20+"px")},n.addEventListener&&(a.addEventListener(i,c,!1),n.addEventListener("DOMContentLoaded",c,!1))},pVdX:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.035cf99dfb6d16043ce1.js.map